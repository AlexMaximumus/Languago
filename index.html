<!DOCTYPE html>
<html lang="ru">
<head>
    <title>Êó•Êú¨Ë™û Study</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#4a90e2">
    <meta name="description" content="–ò–∑—É—á–µ–Ω–∏–µ —è–ø–æ–Ω—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ –æ–Ω–ª–∞–π–Ω">
    
    <!-- –®—Ä–∏—Ñ—Ç—ã –∏ –∏–∫–æ–Ω–∫–∏ -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="stylesheet" href="styles/main.css">
    
    <!-- Telegram Web App -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <!-- –£–ª—É—á—à–µ–Ω–Ω—ã–π —ç–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏ -->
    <div id="splash-screen" class="animate__animated animate__fadeIn">
        <div class="splash-content">
            <div class="splash-icon animate__animated animate__bounceIn">Êó•Êú¨Ë™û</div>
            <div class="splash-title animate__animated animate__fadeInUp">Japanese Study</div>
            <div class="loading-bar">
                <div class="loading-progress"></div>
            </div>
        </div>
    </div>

    <div class="container">
        <nav class="top-nav">
            <button class="back-button" onclick="showMainMenu()">
                <span class="back-icon">‚Üê</span>
                <span class="back-text">–ù–∞–∑–∞–¥</span>
            </button>
            <div class="nav-title">Êó•Êú¨Ë™û Study</div>
            <button class="settings-button" onclick="toggleSettings()">
                <span class="settings-icon">‚öôÔ∏è</span>
            </button>
        </nav>

        <div class="header animate__animated animate__fadeIn">
            <h1>Êó•Êú¨Ë™û Study</h1>
            <p class="subtitle">–ò–∑—É—á–∞–π—Ç–µ —è–ø–æ–Ω—Å–∫–∏–π —è–∑—ã–∫ –ª–µ–≥–∫–æ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ</p>
        </div>

        <!-- –£–ª—É—á—à–µ–Ω–Ω–æ–µ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
        <div id="main-menu" class="main-menu animate__animated animate__fadeIn">
            <div class="main-menu-item ripple" onclick="showSection('words')">
                <div class="main-menu-icon">üìö</div>
                <div class="menu-content">
                    <div class="main-menu-title">–ò–∑—É—á–µ–Ω–∏–µ —Å–ª–æ–≤</div>
                    <div class="main-menu-description">–Ø–ø–æ–Ω—Å–∫–∏–µ —Å–ª–æ–≤–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</div>
                </div>
                <div class="arrow-icon">‚Üí</div>
            </div>

            <div class="main-menu-item ripple" onclick="showSection('kanji')">
                <div class="main-menu-icon">Êº¢</div>
                <div class="menu-content">
                    <div class="main-menu-title">–ò–∑—É—á–µ–Ω–∏–µ –∫–∞–Ω–¥–∑–∏</div>
                    <div class="main-menu-description">–Ø–ø–æ–Ω—Å–∫–∏–µ –∏–µ—Ä–æ–≥–ª–∏—Ñ—ã</div>
                </div>
                <div class="arrow-icon">‚Üí</div>
            </div>

            <div class="main-menu-item ripple" onclick="showSection('test')">
                <div class="main-menu-icon">‚úçÔ∏è</div>
                <div class="menu-content">
                    <div class="main-menu-title">–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</div>
                    <div class="main-menu-description">–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–Ω–∞–Ω–∏–π</div>
                </div>
                <div class="arrow-icon">‚Üí</div>
            </div>

            <div class="main-menu-item ripple" onclick="showSection('emoji')">
                <div class="main-menu-icon">üòä</div>
                <div class="menu-content">
                    <div class="main-menu-title">–°–º–∞–π–ª–∏–∫–∏</div>
                    <div class="main-menu-description">–ò–∑—É—á–µ–Ω–∏–µ —ç–º–æ–¥–∑–∏</div>
                </div>
                <div class="arrow-icon">‚Üí</div>
            </div>
        </div>

        <!-- –°–µ–∫—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ -->
        <div id="words-section" class="content-section" style="display: none;">
            <div class="section-header">
                <h2>–ò–∑—É—á–µ–Ω–∏–µ —Å–ª–æ–≤</h2>
                <div class="search-bar">
                    <input type="text" placeholder="–ü–æ–∏—Å–∫ —Å–ª–æ–≤..." onkeyup="searchWords(this.value)">
                </div>
            </div>
            <div id="categories-container" class="categories-grid animate__animated animate__fadeIn"></div>
            <div id="flashcards-container" class="flashcards-container"></div>
        </div>

        <div id="kanji-section" class="content-section" style="display: none;">
            <div class="section-header">
                <h2>–ò–∑—É—á–µ–Ω–∏–µ –∫–∞–Ω–¥–∑–∏</h2>
                <div class="level-selector">
                    <button class="level-btn active" onclick="filterKanji('n5')">N5</button>
                    <button class="level-btn" onclick="filterKanji('n4')">N4</button>
                    <button class="level-btn" onclick="filterKanji('n3')">N3</button>
                </div>
            </div>
            <div class="kanji-grid animate__animated animate__fadeIn"></div>
        </div>

        <div id="test-section" class="content-section" style="display: none;">
            <div id="test-start" class="test-container animate__animated animate__fadeIn">
                <div class="test-intro">
                    <div class="test-icon pulse">üìù</div>
                    <h2>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h2>
                    <p>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è —è–ø–æ–Ω—Å–∫–æ–≥–æ —è–∑—ã–∫–∞</p>
                    <div class="test-options">
                        <select id="test-type" class="test-select">
                            <option value="kanji">–ö–∞–Ω–¥–∑–∏</option>
                            <option value="vocabulary">–°–ª–æ–≤–∞—Ä–Ω—ã–π –∑–∞–ø–∞—Å</option>
                            <option value="grammar">–ì—Ä–∞–º–º–∞—Ç–∏–∫–∞</option>
                        </select>
                        <select id="test-difficulty" class="test-select">
                            <option value="easy">–õ–µ–≥–∫–∏–π</option>
                            <option value="medium">–°—Ä–µ–¥–Ω–∏–π</option>
                            <option value="hard">–°–ª–æ–∂–Ω—ã–π</option>
                        </select>
                    </div>
                    <button class="start-button ripple" onclick="loadTest()">–ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç</button>
                </div>
            </div>
            <!-- ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–µ–∫—Ü–∏–∏ —Ç–µ—Å—Ç–∞ ... -->
        </div>

        <div id="emoji-section" class="content-section" style="display: none;">
            <div class="section-header">
                <h2>–≠–º–æ–¥–∑–∏</h2>
                <div class="search-bar">
                    <input type="text" placeholder="–ü–æ–∏—Å–∫ —ç–º–æ–¥–∑–∏..." onkeyup="searchEmoji(this.value)">
                </div>
            </div>
            <div id="emoji-categories-container" class="categories-grid animate__animated animate__fadeIn"></div>
            <div id="emoji-flashcards-container" class="flashcards-container"></div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
    <div id="settings-modal" class="modal">
        <div class="modal-content">
            <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
            <div class="settings-option">
                <label>–¢–µ–º–∞</label>
                <select id="theme-selector" onchange="changeTheme(this.value)">
                    <option value="light">–°–≤–µ—Ç–ª–∞—è</option>
                    <option value="dark">–¢—ë–º–Ω–∞—è</option>
                    <option value="auto">–°–∏—Å—Ç–µ–º–Ω–∞—è</option>
                </select>
            </div>
            <div class="settings-option">
                <label>–†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞</label>
                <div class="font-size-controls">
                    <button onclick="adjustFontSize('-')">A-</button>
                    <button onclick="adjustFontSize('+')">A+</button>
                </div>
            </div>
            <button class="close-button" onclick="toggleSettings()">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>

    <!-- –°–∫—Ä–∏–ø—Ç—ã -->
    <script src="scripts/main.js"></script>
    <script src="scripts/animations.js"></script>
    <script>
        // –ë–∞–∑–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
        function showMainMenu() {
            document.querySelectorAll('.content-section').forEach(section => {
                section.style.display = 'none';
            });
            document.getElementById('main-menu').style.display = 'block';
        }

        function showSection(section) {
            document.querySelectorAll('.content-section, #main-menu').forEach(el => {
                el.style.display = 'none';
            });
            document.getElementById(`${section}-section`).style.display = 'block';
        }

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
        function toggleSettings() {
            const modal = document.getElementById('settings-modal');
            modal.classList.toggle('show');
        }

        // –≠—Ñ—Ñ–µ–∫—Ç ripple –¥–ª—è –∫–Ω–æ–ø–æ–∫
        document.querySelectorAll('.ripple').forEach(button => {
            button.addEventListener('click', function(e) {
                const ripple = document.createElement('span');
                ripple.classList.add('ripple-effect');
                this.appendChild(ripple);
                
                const rect = this.getBoundingClientRect();
                const size = Math.max(rect.width, rect.height);
                
                ripple.style.width = ripple.style.height = `${size}px`;
                ripple.style.left = `${e.clientX - rect.left - size/2}px`;
                ripple.style.top = `${e.clientY - rect.top - size/2}px`;

                ripple.addEventListener('animationend', () => {
                    ripple.remove();
                });
            });
        });
    </script>
</body>
</html>
